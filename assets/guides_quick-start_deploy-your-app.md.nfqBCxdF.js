import{_ as i,c as e,o as s,ag as t}from"./chunks/framework.BDwTZuFy.js";const u=JSON.parse('{"title":"Deploy Your App","description":"","frontmatter":{},"headers":[],"relativePath":"guides/quick-start/deploy-your-app.md","filePath":"guides/quick-start/deploy-your-app.md","lastUpdated":1748425526000}'),n={name:"guides/quick-start/deploy-your-app.md"};function l(p,a,o,d,h,r){return s(),e("div",null,a[0]||(a[0]=[t(`<h1 id="deploy-your-app" tabindex="-1">Deploy Your App <a class="header-anchor" href="#deploy-your-app" aria-label="Permalink to &quot;Deploy Your App&quot;">​</a></h1><p>This guide explains how to create a Granite application using <code>granite-app</code> and deploy service bundles to AWS using the <code>granite-forge</code> deployment tool. By following this process, you can deploy and run your application on an Amazon S3 bucket.</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>To deploy your application to AWS, you need to meet the following conditions:</p><ul><li>You must have an AWS account.</li><li>You need to have an access key and secret key with <code>AmazonS3FullAccess</code> permissions issued from IAM.</li><li>An S3 bucket created via Pulumi must be ready.</li></ul><h2 id="_1-creating-a-granite-application" tabindex="-1">1. Creating a Granite Application <a class="header-anchor" href="#_1-creating-a-granite-application" aria-label="Permalink to &quot;1. Creating a Granite Application&quot;">​</a></h2><p>First, create a new Granite application. Open your terminal and run one of the following commands based on your package manager:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-uIKW_" id="tab-Ey8Oasx" checked><label data-title="npm" for="tab-Ey8Oasx">npm</label><input type="radio" name="group-uIKW_" id="tab-cP4YhfQ"><label data-title="pnpm" for="tab-cP4YhfQ">pnpm</label><input type="radio" name="group-uIKW_" id="tab-C2hYRzM"><label data-title="yarn" for="tab-C2hYRzM">yarn</label></div><div class="blocks"><div class="language-sh vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-granite-app@latest</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-granite-app</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite-app</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-granite-app</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite-app</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-granite-app</span></span></code></pre></div></div></div><p>This command creates a new directory named <code>my-granite-app</code> and generates the basic structure of a Granite application within it.</p><h2 id="_2-installing-deployment-tools-and-configuring-environment" tabindex="-1">2. Installing Deployment Tools and Configuring Environment <a class="header-anchor" href="#_2-installing-deployment-tools-and-configuring-environment" aria-label="Permalink to &quot;2. Installing Deployment Tools and Configuring Environment&quot;">​</a></h2><p>Navigate to the created application directory, install the necessary dependencies, and set up environment variables for AWS deployment.</p><h3 id="installing-dependencies" tabindex="-1">Installing Dependencies <a class="header-anchor" href="#installing-dependencies" aria-label="Permalink to &quot;Installing Dependencies&quot;">​</a></h3><p><code>granite-forge</code> is the tool for deploying Granite applications.</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-X3tKJ" id="tab-a_8LeIj" checked><label data-title="npm" for="tab-a_8LeIj">npm</label><input type="radio" name="group-X3tKJ" id="tab-YBg9LX2"><label data-title="pnpm" for="tab-YBg9LX2">pnpm</label><input type="radio" name="group-X3tKJ" id="tab-ZrWqjjU"><label data-title="yarn" for="tab-ZrWqjjU">yarn</label></div><div class="blocks"><div class="language-sh vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @granite-js/forge-cli</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @granite-js/forge-cli</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @granite-js/forge-cli</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dev</span></span></code></pre></div></div></div><h2 id="configuring-aws-credentials" tabindex="-1">Configuring AWS Credentials <a class="header-anchor" href="#configuring-aws-credentials" aria-label="Permalink to &quot;Configuring AWS Credentials&quot;">​</a></h2><p>You need to set up credentials so that Pulumi can create AWS resources. You can do this either through environment variables or using the AWS CLI.</p><h3 id="method-1-setting-up-with-environment-variables" tabindex="-1">Method 1: Setting up with Environment Variables <a class="header-anchor" href="#method-1-setting-up-with-environment-variables" aria-label="Permalink to &quot;Method 1: Setting up with Environment Variables&quot;">​</a></h3><p>Pulumi reads AWS credentials from the environment to create resources. By setting credentials as environment variables, Pulumi can automatically read the values without requiring a separate configuration file.</p><p>Set the credentials in your terminal as follows. This method is temporary and will be lost when you close the terminal.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AWS_ACCESS_KEY_ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your-access-key-id&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AWS_SECRET_ACCESS_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your-secret-access-key&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AWS_REGION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your-region&quot;</span></span></code></pre></div><h3 id="method-2-setting-up-with-aws-cli" tabindex="-1">Method 2: Setting up with AWS CLI <a class="header-anchor" href="#method-2-setting-up-with-aws-cli" aria-label="Permalink to &quot;Method 2: Setting up with AWS CLI&quot;">​</a></h3><p>When you run this command, you can enter your credentials and default region. Setting up credentials with AWS CLI ensures they persist even after closing the terminal.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aws</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configure</span></span></code></pre></div><h2 id="_3-building-and-deploying-the-application" tabindex="-1">3. Building and Deploying the Application <a class="header-anchor" href="#_3-building-and-deploying-the-application" aria-label="Permalink to &quot;3. Building and Deploying the Application&quot;">​</a></h2><p>Once the environment variables are set, use the following commands to build and deploy your Granite application.</p><h3 id="building-the-application" tabindex="-1">Building the Application <a class="header-anchor" href="#building-the-application" aria-label="Permalink to &quot;Building the Application&quot;">​</a></h3><p>This command compiles and optimizes the application source code into a deployable format.</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-GBJ9J" id="tab--kYzvEh" checked><label data-title="npm" for="tab--kYzvEh">npm</label><input type="radio" name="group-GBJ9J" id="tab-Yc1B0KH"><label data-title="pnpm" for="tab-Yc1B0KH">pnpm</label><input type="radio" name="group-GBJ9J" id="tab-Cy7D-mi"><label data-title="yarn" for="tab-Cy7D-mi">yarn</label></div><div class="blocks"><div class="language-sh vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div></div></div><h3 id="deploying-the-service-bundle" tabindex="-1">Deploying the Service Bundle <a class="header-anchor" href="#deploying-the-service-bundle" aria-label="Permalink to &quot;Deploying the Service Bundle&quot;">​</a></h3><p>This command uploads the built service bundle to the specified S3 bucket and provisions the necessary AWS resources to deploy the application. You must specify the correct S3 bucket name for deployment using the <code>--bucket</code> option.</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-uKN-_" id="tab-rDWMUES" checked><label data-title="npm" for="tab-rDWMUES">npm</label><input type="radio" name="group-uKN-_" id="tab-_xIJzyz"><label data-title="pnpm" for="tab-_xIJzyz">pnpm</label><input type="radio" name="group-uKN-_" id="tab-8wtEPfK"><label data-title="yarn" for="tab-8wtEPfK">yarn</label></div><div class="blocks"><div class="language-sh vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bucket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-s3-bucket-name</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bucket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-s3-bucket-name</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> granite-forge</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --bucket</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-s3-bucket-name</span></span></code></pre></div></div></div><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><p>Once the application is successfully deployed, you can use the following endpoint addresses to access the service on each platform. <code>1-1000</code> should be replaced with a number between <code>1</code> and <code>1000</code>. This number is used for canary deployments.</p><p>The endpoint addresses are as follows:</p><ul><li>iOS: <code>https://&lt;cloudfront-cdn&gt;/ios/&lt;appName&gt;/1-1000/bundle</code></li><li>Android: <code>https://&lt;cloudfront-cdn&gt;/android/&lt;appName&gt;/1-1000/bundle</code></li></ul>`,35)]))}const k=i(n,[["render",l]]);export{u as __pageData,k as default};
